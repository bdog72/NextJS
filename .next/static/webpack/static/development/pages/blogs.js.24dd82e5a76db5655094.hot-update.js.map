{"version":3,"file":"static/webpack/static/development/pages/blogs.js.24dd82e5a76db5655094.hot-update.js","sources":["webpack:///./services/auth0.js"],"sourcesContent":["import auth0 from 'auth0-js';\nimport Cookies from 'js-cookie';\n\nclass Auth0 {\n  constructor(props) {\n    this.auth0 = new auth0.WebAuth({\n      domain: 'bozo72.auth0.com',\n      clientID: 'hlcgDvFQ4F0rucG4g2LQ5pR0mJCRiptz',\n      redirectUri: 'http://localhost:3000/callback',\n      responseType: 'token id_token',\n      scope: 'openid profile'\n    });\n    this.login = this.login.bind(this);\n    this.handleAuthentication = this.handleAuthentication.bind(this);\n  }\n\n  handleAuthentication() {\n    return new Promise((resolve, reject) => {\n      this.auth0.parseHash((err, authResult) => {\n        if (authResult && authResult.accessToken && authResult.idToken) {\n          this.setSession(authResult);\n          resolve();\n        } else if (err) {\n          reject(err);\n          console.log(err);\n        }\n      });\n    });\n  }\n\n  // setSession(authResult) {\n  //   // Set isLoggedIn flag in localStorage\n  //   localStorage.setItem('isLoggedIn', 'true');\n\n  //   // Set the time that the access token will expire at\n  //   let expiresAt = authResult.expiresIn * 1000 + new Date().getTime();\n  //   this.accessToken = authResult.accessToken;\n  //   this.idToken = authResult.idToken;\n  //   this.expiresAt = expiresAt;\n  // }\n\n  setSession(authResult) {\n    const expiresAt = JSON.stringify(\n      authResult.expiresIn * 1000 + new Date().getTime()\n    );\n    // localStorage.setItem('access_token', authResult.accessToken);\n    localStorage.setItem('id_token', authResult.idToken);\n    localStorage.setItem('expires_at', expiresAt);\n\n    Cookies.set('user', authResult.idTokenPayload);\n    Cookies.set('jwt', authResult.idToken);\n    Cookies.set('expiresAt', expiresAt);\n  }\n\n  logout() {\n    Cookies.remove('user');\n    Cookies.remove('jwt');\n    Cookies.remove('expiresAt');\n  }\n\n  login() {\n    this.auth0.authorize();\n  }\n}\n\nconst auth0Client = new Auth0();\n\nexport default auth0Client;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;;;;AAGA;AAEA;;;;A","sourceRoot":""}